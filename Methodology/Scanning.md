# Scanning

- When scanning a network range, it is important to conduct a ping sweep first in order to find live hosts. Without determining live hosts, network scans could take copious amounts of time (depending on the size of the network).
- When conducting a ping sweep, it is easiest to send the output of the scan to an nmap grepable file or a text file so that changes can be easily made to the file for the actual network scan.
- After the ping sweep is comp

Nmap:

`nmap -sn <ip-range> -oG filename`
* There is no need to put an extension on the filename, nmap already knows to do this by using the oG flag.

Masscan:



## OLD
1. Run a ping scan with nmap and send to a grep-able file:
nmap -sn &lt;ip range&gt; -oG &lt;filename&gt;

2. Grep ping scan file for only live hosts:
grep -i ‘Up’ &lt;filename&gt; | cut -f 2 -d ‘ ‘ &gt; &lt;hostfilename.txt&gt;

3. Run discovery scan against live host file and send results to all nmap file types:
** TCP Scan
nmap -Pn -sT -O -sV -T4 -p- --open -oA &lt;nmapfiles&gt; -iL &lt;hostfilename.txt&gt;
** UDP Scan
Nmap -Pn -sU -T4 -n –open –max-retries=0 -p- -oA &lt;nmapfiles&gt; -iL &lt;hostfilename.txt&gt;

4. Convert nmap results to a spreadsheet for easier views:
python3 /path/to/nmap_parser.py –csv &lt;filename.csv&gt; -f &lt;nmapfile.xml&gt;

5. Review spreadsheet to gather a baseline of what’s on the network:
After the spreadsheet has been produced, look through and establish what the baseline of the
network is. During this step, you should be looking for common services that are on most of the
machines on the network. Understanding the baseline will allow you to figure out what should be
there and what shouldn’t be there. After figuring the baseline out, this is when you want to find any
“low hanging fruit” that may be easily exploited. Insecure protocols such as FTP or Telnet may lead to
an anonymous login (FTP) or unauthenticated shell access (Telnet). If any HTTP(S) ports are open,
note those hosts so that you can browse to the web pages and get an understanding of what the
machines purpose is or what is on the machine. If port 9100 is open, then you automatically know
that the machine is a printer and can easily be exploited with PRET (more to follow on this later).
